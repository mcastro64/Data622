
Of the four CSV's that were included in the dataset, I compared the files "banks_full.csv" and "banks_additional_full.csv". I discarded the other two CSV's comprised of 10% randomly sampled observations from their corresponsing "full" counterparts, as the randomly sampling method does not specify if steps were taken to ensure that it is a balanced representative subset. Furthermore, the additional datapoints of the full dataset may be useful for working with more complex models and avoiding falling victim to the Curse of Dimensionality. We would be able to generate our own subset from the full dataset if necessary "for working with more computationally demanding machine learning algorithms" as the datasets' author suggests.

For the purposes of this report, I will be refering to "banks_full.csv" as the _original_df_ and "banks_additional_full" as _extended_df_. _original_df_ is comprised of 45211 observations with 16 features + label column "y" for a total of 17 variables, while _extended_df_ is comprised of 41188 observations with 20 features + label column "y", for a total of 21 variables. 

### Differences Between the Two Datasets

A cursory view of the column types and data shows the following differences:

- balance (integer) - the client's bank balance. This field is present in _original_df_ and missing from _extended_df_;
- emp.var.rate (float) - This field is present  in _extended_df_ and missing from _original_df_
- cons.price.idx (float) - This field is present in _extended_df_ and missing from _original_df_. 
- cons.conf.idx (float) - This field is present in _extended_df_ and missing from _original_df_
- euribor3m (float) - This field is present in _extended_df_ and missing from _original_df_
- nr.employed (float) - This field is present in _extended_df_ and missing from _original_df_

The latter five fields appear to be engineered features but no additional information is available about what they represent or how they were computed. We will drop these fields as we don't know the methodology that was used to obtain these values. 

_Categorical Variable Comparison_

Distributions in our categorical variables appear somewhat similar but with the following differences:

* education (categorical) - contains different values between the two dfs; values for _extended_df_ to have more specific information ("basic.4y", "basic.6y", "basic.9y", "high.shool", "illiterate", "processional.course", "university.degree", "unknown") while _original_df_ has more general values ("primary", "secondary", "tertiary", "unknown").
* day vs day_of_week - an additional difference is how contact day was captured. _original_df_ uses an integer value for the day of month (1-31), while _extended_df_ uses a categorical for the day of the week (Mon-Fri)
* pdays - the coding for "never contacted" is different between _original_df_ (999) and _extended_df_ (-1). These were transformed to -1 for both comparison between datasets and ease interpreation of visualizations.
* contact - _original_df_ contains values classified as `unknown` while _extended_df_ contains none.
* poutcome - _original_df_ contains values classified as `unknown` while _extended_df_ contains none.
* marital - _extended_df_ contains values classified as `unknown` while _original_df_ contains none.
* default - _extended_df_ contains values classified as `unknown` while _original_df_ contains none.
* housing - _extended_df_ contains values classified as `unknown` while _original_df_ contains none.
* loan - _extended_df_ contains values classified as `unknown` while _original_df_ contains none.

_Non-categorical Variable Comparison_

The crentral tendency, Inter-Quartile Range (IQR) and spread of our non-categorical variables are similar between _original_df_ and _extended_df_. In particular:

* age - the 25th percentile/median/75th percentile are nearly identical with quartile values of 33/39/48 and 32/38/47 and standard deviations of 10.62 and 10.42 for the _original_df_ and _extended_df_ respectively. The maximum age is lower than for _original_df_ (95) vs. _extended_df_ (98).
* duration - the 25th percentile/median/75th percentile are nearly identical with quartile values of 103/180/319 and 102/180/319 and standard deviations of 257.52 and 259.28 for the _original_df_ and _extended_df_ respectively. The maximum value for both is 4918 seconds (1 hour and 22 minutes).
* campaign - the quartile values are the same for both datasets (1/2/3) but the maximums differ (63 vs 56)
* pdays - the quartile values are the same for both datasets (-1/-1/-1)  but the maximums differ (871 vs. 27). Note that a value of -1 represents a client that has never been contacted. Therefore, we may need further explore this variable by possibly separate this data, as our data is centered around clients that have never been contacted before.
* previous - the quartile values are the same for both datasets (0/0/0)  but the maximums differ (275 vs 7). Note that the huge difference in ranges could be attributed to binning if these _extended_df_ is derived from _original_df_
* balance - In _orginal_df_, the mean balance is 1362.27, with minimum value of -8019 and a maximum value of 102127. This gives us a right-skewed distribution with a heavy large tail representing clients with large balances and suggests that using this variable in our model will produce poor model fit as it may be overly sensitive to our outliers with high leverage and influence. Note this field is not present in _extended_df_.

_Additional Differences_
A few interesting differences between _original_df_ and _extended_df_ stand out. In particular, `pdays` â€”- the number of days that passed after the client was last contacted from the previous campaign -- has a narrow spread (-1 to 27 days) in _extended_df_ and a wider spread in _original_df_ ranging (-1 to 871 days or over 2.38 years), where -1 is a code for never contacted. Similarly `previous` _contacts before this campaign for this client_ has a shorter spread (0-7) in _extended_df_ and a intial _original_df_ spread of 0-275 adjusted to 0-58 if we remove a single extreme outlier at 275. These differences may be represent differences in the client selection criteria for the former and differences in the lengths of the campaigns themselves for the latter. 
 
The author makes reference to the _original_df_ as an older dataframe. While at first glance, it  was not clear if _extended_df_ was generated from _original_df_ safter data-engineered modifications, there are sufficient differences in the data to suggest that they contain data points from different campaigns. For example, many of the categorical variables include `unknown` answers in _extended_df_ where there were no unknown answers in their corresponding _original_df_ fields. Furthermore, the spread of the number of last contacted days is significantly shorter, suggesting that campaigns were potentially tracked more frequently. 

It is worth noting that an alternative explanation for these differences might be due to modifications made to the data, such as corrections to the _original_df_ data, binning, dropped observations and other feature engineering techniques used to produce _extended_df_. Evidence to suggest this include the similarities in the central tendencies and spread of the non-categorical varibles. For example, the IQRs for `duration` and `age` are almost identical,  with a maximum value for `duration` of exactly 4918 for both datases. However, the maximum `age` in _extended_df_ is higher (98 vs 95). This suggests that if _extended_df_ is based off of _original_df_, data points may have been modified, corrected and/or transformed. This would help explain the higher maximum age in _extended_df_ .  

In any case, our predictions may benefit from the more current data offered in _extended_df_ given that it may contain corrections over _original_df_ or capture possible changing trends in customer behaviours (ie changes in mobile vs landline use or external economic factors) if altogether a more recent dataset. While we do loose the pressence `balance` variable in _extended_df_, we would likely not include this metric as an independent variable in our model, as data is right skewed by a heavy right tail for large balances that may disproportionately influence the results of our models. As such, the following exploration will focus on _extended_df_.

### Examining Categorical Variables for Extended

A review of categorical counts, shows that the majority of clients tend to work in admin (25.3%), blue-collar (22.5%), and technician (16.4%), and have a high school education or university degree. They have do not currently have a personal loan (82.4%) or have not defaulted on a loan (69.12%). Slightly more clients contacted have a house loan (52.3% vs 45.2%). It should be noted that 20.9% of values for default status and 2.4% of personal and housing loans are marked as "unknown". More clients were reached by cellular phone (26,144) than by telephone (15,044) and more clients were last contacted over the summer months may to august than the rest of the year, with the most contacts made in May. 

The proportion of clients that subscribed to a term deposit (y = yes) generally falls between 5-15% of the total number of clients within a given category. For example, 10.2% of clients identified as married responded yes to the campaign, 10.3% identified as divorced, and 14% identified as single. For housing and personal loan, this range was even closer as between 10.8-11.6% and 10.8-11.3% responded yes for "unknown", "yes", or "no", although `defaults` reponded yes 5.2%, 0%, and 12.9% respectively. Most `jobs` and `education` categories responded yest within the range of 5-15% , with some notable exceptions such as 
* 31.4% of 875 students (2.1% of total sample population)
* 25.2% of 1720 retired individuals 
* 22.2% of illerate individuals, though the number of total clients for this group is only 18 clients or 0.04% of the total sample population.
Additionally 65.1% of succesful past outcome (`poutcome`) clients responded yes to the campaign.

There is also a fairly equal distribution of campaign calls across all `day_of_week` for our _extended_df_. We may consider dropping this parameters to save additional degree of freedom, as they may not add much to our model's predictions. 


### Examining Non-Categorical Variables

Visualizing pairplots for our non-categorical variables reveals some patterns in our data. First, many of our plots show a reverse funnel shape suggesting that our data is very linear. This is due to the large number of clients (39,673) flagged as "not previously contacted" (`pdays` with a value of -1). All pairplots plotted against `pdays` show a clear band of overvations at y = -1. We may need to create a feature flag for "not previously contacted" to avoid introducing heteroscedasticity into our models. Interestingly, 9.3% of observations flagged as "not previously contacted" responded yes to the bank's term deposit. This may be due to data entry errors or may be a result of users signing up for the service on their own, such as through a bank branch. We would need to verify if these observations are true "yes" responses to better understand their relevance.

The funnel shape is particularly obvious in the `duration` vs `campaign` and `previous` vs `campaign` where data has a wider spread along the x-axis as y approches zero which narrows to a point as x approaches 0 when y increases. Visualizing the yes vs no responses shows a band of "no" responses at or near x = 0 for both variables. This conceptually makes sense, as calls with a duration of 0 seconds (didn't pick up)can't or have a positive outcome; short calls (some seconds) are not likely to produce a positive outcome. The dataset's author recommends ommitting this variabled from our model. Similarly, clients that were never contacted previously and not yet contacted can not respond 'yes' to the bank term deposit.

The funnel is less defined for `age` vs `campaign` as obsevartions are more spread out. However, the plot shows a greater number of contacts performed during this campaign for working-age adults (24-59). This might be due to the fact that calls made during working hours may be less likely to be answered. Most of the "yes" observations to our dependent variable are clustered when y is les than 10 suggesting that continous calls may be ineffective for clients that are less likely to answer. 

_Outliers_
Examining boxplots for our non-categorical variables suggests the pressence of outliers for all variables, whereby many observations fall beyond the upper whiskers. These outliers are confirmed in out pairplots. For example, `duration` appears to have a somewhat large outlier of 4918 seconds of last contact (1 hour, 22 mins) while the "upper whiskers" from our IQR is 643.

Performing a log transformaton on the data may help minimize the effects of these outliers, particularly for variables such as `balance` with a a wide spread of .

The median and IQR for `age` are similar between the yes/no values of our dependent variable in both dataframes suggesting that age may be a weak predictor as there is little variability from one or the other. Similarly, the IQFs for `campaign` - number of contacts performed during this campaign and for this client - are also very similar; while there is some variation in _extended_df_, there the IQRs and upper whiskers for _original_df_ are very similar between our dependent variable. The  similarities in spread and distribution are closely matched `pdays` -- number of days that passed by after the client was last contacted from a previous campaign  -- in _extended_df_, where as the the upper IQR is very pronounced in _original_df_.


_Correlation_
Performing a Pairwise Correlation test shows that most non-categorical variables have weak correlation to each other. This is represented by the relatively small correlation values (less than -.01) in the table below.  These values also suggests that the parameters do not have multicolinearity. One exception is the relationship between `pdays` and `previous`, which has a strong negative correlation This suggests that clients contacted recently tend to have more past contacts; while most clients that had no previous contact for this campaign were previously not contacts before this campaign. We should consider dropping one of these variables from our model to avoid introducing multicollienarity.

           | age       | duration  | campaign  | pdays     | previous  |
|-----------|-----------|-----------|-----------|-----------|-----------|
| age       | 1.000000  | -0.000866 | 0.004594  | -0.034369 | 0.024365  |
| duration  | -0.000866 | 1.000000  | -0.071699 | -0.047577 | 0.020640  |
| campaign  | 0.004594  | -0.071699 | 1.000000  | 0.052584  | -0.079141 |
| pdays     | -0.034369 | -0.047577 | 0.052584  | 1.000000  | -0.506531 |
| previous  | 0.024365  | 0.020640  | -0.079141 | -0.587514 | 1.000000  |


# Algorithm Selection
Select two or more machine learning algorithms presented so far that could be used to train a model.

Tree, K nearest neighbors, Logistic Regression

What are the pros and cons of each algorithm you selected?

K-nearest neight is a lazy-learner. Assumptions are relaxed, but data hungry and computationally expensive. Does not need labels

Tree


Which algorithm would you recommend, and why?

Are there labels in your data? Did that impact your choice of algorithm?

Yes, we have a labels for our data in the dependent variable `y`. `Y` is a binary categorical variable with values "Yes" and "No". 

How does your choice of algorithm relates to the dataset?

Would your choice of algorithm change if there were fewer than 1,000 data records, and why? 



- Logistic regression

## Pre-processing
_Data Cleaning_ 
__improve data quality, address missing data, etc.__
Given the number of observations (41k+), we could consider dropping some extreme outliers. For example.


_Feature Engineering_

_Dimensionality Reduction_  
__remove correlated/redundant data than will slow down training__

We should drop 
- emp.var.rate, cons.price.idx, cons.conf.idx, euribor3m, nr.employed
- day_of_week - all days have very similar distributions for both "yes" and "no" responses
- month - this shows that more calls are made during the summer months but this may be due to internal goals by the bank for reaching campaign goals, rather than seasonal reasons why more people responded "yes"
- duration - The datasets author cautions about using `duration` for predictive purposes as "this attribue highle affects the output target." As such, we will discard this field. 


_Feature Engineering_
__use of business knowledge to create new features__

Given the high number of clients that were not previously contacted, we should create a new dummy categorical variable to specifically capture where 1 represents if the client was contacted and 0 represents when clients were not previously contacted.

Bin education

One-hot encoding of categorical variables such as 

 

Sampling Data - using sampling to resize datasets


Data Transformation - regularization, normalization, handling categorical variables


- regularization

Imbalanced Data - reducing the imbalance between classes




